import{j as R}from"./jsx-runtime-BLI8ZJsa.js";import Pe from"./ThemeLayout-CSZUhtdd.js";import{R as ee,r as x,b as Be}from"./index-CP26dfb2.js";import Oe from"./styles-D_XvpvLC.js";import{u as Fe,a as ke,s as ge}from"./create-DC3FBBky.js";import{u as Me}from"./components-BlTBjdub.js";import{P as $e,a as Le,e as Ke,T as me,f as qe,B as We}from"./Page-CP5RaZ3z.js";import{C as Ue}from"./Card-cfPGhfhX.js";import{R as Ge,a as ze}from"./ResourceList-CDHVAF4t.js";import{T as Ze}from"./Thumbnail-BCdXp_8z.js";import{B as He}from"./Banner-BO8VKTka.js";import"./index-CNPq0y9p.js";import"./moment-C5S46NFB.js";import"./index-EHAiWlOd.js";import"./AuthChecker-CNFSFa96.js";import"./context-CVOPGIzy.js";import"./Select-Cqc2aBNG.js";import"./index-CQUpKOYE.js";import"./InlineGrid-C9bjlSrV.js";import"./Sticky-525yc6rr.js";import"./XIcon.svg-DfjWHrjT.js";function ye(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}var ae;(function(e){e.event="event",e.props="prop"})(ae||(ae={}));function Y(){}function Je(e){var t,r=void 0;return function(){for(var n=[],a=arguments.length;a--;)n[a]=arguments[a];return t&&n.length===t.length&&n.every(function(i,f){return i===t[f]})||(t=n,r=e.apply(void 0,n)),r}}function ne(e){return!!(e||"").match(/\d/)}function te(e){return e==null}function Xe(e){return typeof e=="number"&&isNaN(e)}function be(e){return te(e)||Xe(e)||typeof e=="number"&&!isFinite(e)}function Ve(e){return e.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}function Ye(e){switch(e){case"lakh":return/(\d+?)(?=(\d\d)+(\d)(?!\d))(\.\d+)?/g;case"wan":return/(\d)(?=(\d{4})+(?!\d))/g;case"thousand":default:return/(\d)(?=(\d{3})+(?!\d))/g}}function Qe(e,t,r){var n=Ye(r),a=e.search(/[1-9]/);return a=a===-1?e.length:a,e.substring(0,a)+e.substring(a,e.length).replace(n,"$1"+t)}function et(e){var t=x.useRef(e);t.current=e;var r=x.useRef(function(){for(var n=[],a=arguments.length;a--;)n[a]=arguments[a];return t.current.apply(t,n)});return r.current}function de(e,t){t===void 0&&(t=!0);var r=e[0]==="-",n=r&&t;e=e.replace("-","");var a=e.split("."),i=a[0],f=a[1]||"";return{beforeDecimal:i,afterDecimal:f,hasNegation:r,addNegation:n}}function tt(e){if(!e)return e;var t=e[0]==="-";t&&(e=e.substring(1,e.length));var r=e.split("."),n=r[0].replace(/^0+/,"")||"0",a=r[1]||"";return(t?"-":"")+n+(a?"."+a:"")}function Ne(e,t,r){for(var n="",a=r?"0":"",i=0;i<=t-1;i++)n+=e[i]||a;return n}function he(e,t){return Array(t+1).join(e)}function we(e){var t=e+"",r=t[0]==="-"?"-":"";r&&(t=t.substring(1));var n=t.split(/[eE]/g),a=n[0],i=n[1];if(i=Number(i),!i)return r+a;a=a.replace(".","");var f=1+i,h=a.length;return f<0?a="0."+he("0",Math.abs(f))+a:f>=h?a=a+he("0",f-h):a=(a.substring(0,f)||"0")+"."+a.substring(f),r+a}function pe(e,t,r){if(["","-"].indexOf(e)!==-1)return e;var n=(e.indexOf(".")!==-1||r)&&t,a=de(e),i=a.beforeDecimal,f=a.afterDecimal,h=a.hasNegation,S=parseFloat("0."+(f||"0")),w=f.length<=t?"0."+f:S.toFixed(t),y=w.split("."),g=i;i&&Number(y[0])&&(g=i.split("").reverse().reduce(function(V,_,v){return V.length>v?(Number(V[0])+Number(_)).toString()+V.substring(1,V.length):_+V},y[0]));var p=Ne(y[1]||"",t,r),b=h?"-":"",c=n?".":"";return""+b+g+c+p}function Q(e,t){if(e.value=e.value,e!==null){if(e.createTextRange){var r=e.createTextRange();return r.move("character",t),r.select(),!0}return e.selectionStart||e.selectionStart===0?(e.focus(),e.setSelectionRange(t,t),!0):(e.focus(),!1)}}var Ce=Je(function(e,t){for(var r=0,n=0,a=e.length,i=t.length;e[r]===t[r]&&r<a;)r++;for(;e[a-1-n]===t[i-1-n]&&i-n>r&&a-n>r;)n++;return{from:{start:r,end:a-n},to:{start:r,end:i-n}}}),rt=function(e,t){var r=Math.min(e.selectionStart,t);return{from:{start:r,end:e.selectionEnd},to:{start:r,end:t}}};function at(e,t,r){return Math.min(Math.max(e,t),r)}function ce(e){return Math.max(e.selectionStart,e.selectionEnd)}function nt(){return typeof navigator<"u"&&!(navigator.platform&&/iPhone|iPod/.test(navigator.platform))}function it(e){return{from:{start:0,end:0},to:{start:0,end:e.length},lastValue:""}}function ot(e){var t=e.currentValue,r=e.formattedValue,n=e.currentValueIndex,a=e.formattedValueIndex;return t[n]===r[a]}function ut(e,t,r,n,a,i,f){f===void 0&&(f=ot);var h=a.findIndex(function(M){return M}),S=e.slice(0,h);!t&&!r.startsWith(S)&&(t=S,r=S+r,n=n+S.length);for(var w=r.length,y=e.length,g={},p=new Array(w),b=0;b<w;b++){p[b]=-1;for(var c=0,V=y;c<V;c++){var _=f({currentValue:r,lastValue:t,formattedValue:e,currentValueIndex:b,formattedValueIndex:c});if(_&&g[c]!==!0){p[b]=c,g[c]=!0;break}}}for(var v=n;v<w&&(p[v]===-1||!i(r[v]));)v++;var P=v===w||p[v]===-1?y:p[v];for(v=n-1;v>0&&p[v]===-1;)v--;var B=v===-1||p[v]===-1?0:p[v]+1;return B>P?P:n-B<P-n?B:P}function xe(e,t,r,n){var a=e.length;if(t=at(t,0,a),n==="left"){for(;t>=0&&!r[t];)t--;t===-1&&(t=r.indexOf(!0))}else{for(;t<=a&&!r[t];)t++;t>a&&(t=r.lastIndexOf(!0))}return t===-1&&(t=a),t}function lt(e){for(var t=Array.from({length:e.length+1}).map(function(){return!0}),r=0,n=t.length;r<n;r++)t[r]=!!(ne(e[r])||ne(e[r-1]));return t}function Ie(e,t,r,n,a,i){i===void 0&&(i=Y);var f=et(function(c,V){var _,v;return be(c)?(v="",_=""):typeof c=="number"||V?(v=typeof c=="number"?we(c):c,_=n(v)):(v=a(c,void 0),_=n(v)),{formattedValue:_,numAsString:v}}),h=x.useState(function(){return f(te(e)?t:e,r)}),S=h[0],w=h[1],y=function(c,V){c.formattedValue!==S.formattedValue&&w({formattedValue:c.formattedValue,numAsString:c.value}),i(c,V)},g=e,p=r;te(e)&&(g=S.numAsString,p=!0);var b=f(g,p);return x.useMemo(function(){w(b)},[b.formattedValue]),[S,y]}function st(e){return e.replace(/[^0-9]/g,"")}function ft(e){return e}function ct(e){var t=e.type;t===void 0&&(t="text");var r=e.displayType;r===void 0&&(r="input");var n=e.customInput,a=e.renderText,i=e.getInputRef,f=e.format;f===void 0&&(f=ft);var h=e.removeFormatting;h===void 0&&(h=st);var S=e.defaultValue,w=e.valueIsNumericString,y=e.onValueChange,g=e.isAllowed,p=e.onChange;p===void 0&&(p=Y);var b=e.onKeyDown;b===void 0&&(b=Y);var c=e.onMouseUp;c===void 0&&(c=Y);var V=e.onFocus;V===void 0&&(V=Y);var _=e.onBlur;_===void 0&&(_=Y);var v=e.value,P=e.getCaretBoundary;P===void 0&&(P=lt);var B=e.isValidInputCharacter;B===void 0&&(B=ne);var M=e.isCharacterSame,O=ye(e,["type","displayType","customInput","renderText","getInputRef","format","removeFormatting","defaultValue","valueIsNumericString","onValueChange","isAllowed","onChange","onKeyDown","onMouseUp","onFocus","onBlur","value","getCaretBoundary","isValidInputCharacter","isCharacterSame"]),U=Ie(v,S,!!w,f,h,y),K=U[0],C=K.formattedValue,F=K.numAsString,q=U[1],$=x.useRef(),W=x.useRef({formattedValue:C,numAsString:F}),L=function(o,l){W.current={formattedValue:o.formattedValue,numAsString:o.value},q(o,l)},Z=x.useState(!1),H=Z[0],s=Z[1],u=x.useRef(null),m=x.useRef({setCaretTimeout:null,focusTimeout:null});x.useEffect(function(){return s(!0),function(){clearTimeout(m.current.setCaretTimeout),clearTimeout(m.current.focusTimeout)}},[]);var N=f,I=function(o,l){var d=parseFloat(l);return{formattedValue:o,value:l,floatValue:isNaN(d)?void 0:d}},j=function(o,l,d){o.selectionStart===0&&o.selectionEnd===o.value.length||(Q(o,l),m.current.setCaretTimeout=setTimeout(function(){o.value===d&&o.selectionStart!==l&&Q(o,l)},0))},T=function(o,l,d){return xe(o,l,P(o),d)},G=function(o,l,d){var A=P(l),k=ut(l,C,o,d,A,B,M);return k=xe(l,k,A),k},ue=function(o){var l=o.formattedValue;l===void 0&&(l="");var d=o.input,A=o.source,k=o.event,E=o.numAsString,D;if(d){var z=o.inputValue||d.value,J=ce(d);d.value=l,D=G(z,l,J),D!==void 0&&j(d,D,l)}l!==C&&L(I(l,E),{event:k,source:A})};x.useEffect(function(){var o=W.current,l=o.formattedValue,d=o.numAsString;(C!==l||F!==d)&&L(I(C,F),{event:void 0,source:ae.props})},[C,F]);var re=u.current?ce(u.current):void 0,ie=typeof window<"u"?x.useLayoutEffect:x.useEffect;ie(function(){var o=u.current;if(C!==W.current.formattedValue&&o){var l=G(W.current.formattedValue,C,re);o.value=C,j(o,l,C)}},[C]);var le=function(o,l,d){var A=l.target,k=$.current?rt($.current,A.selectionEnd):Ce(C,o),E=Object.assign(Object.assign({},k),{lastValue:C}),D=h(o,E),z=N(D);if(D=h(z,void 0),g&&!g(I(z,D))){var J=l.target,X=ce(J),fe=G(o,C,X);return J.value=C,j(J,fe,C),!1}return ue({formattedValue:z,numAsString:D,inputValue:o,event:l,source:d,input:l.target}),!0},se=function(o,l){l===void 0&&(l=0);var d=o.selectionStart,A=o.selectionEnd;$.current={selectionStart:d,selectionEnd:A+l}},De=function(o){var l=o.target,d=l.value,A=le(d,o,ae.event);A&&p(o),$.current=void 0},_e=function(o){var l=o.target,d=o.key,A=l.selectionStart,k=l.selectionEnd,E=l.value;E===void 0&&(E="");var D;d==="ArrowLeft"||d==="Backspace"?D=Math.max(A-1,0):d==="ArrowRight"?D=Math.min(A+1,E.length):d==="Delete"&&(D=A);var z=0;d==="Delete"&&A===k&&(z=1);var J=d==="ArrowLeft"||d==="ArrowRight";if(D===void 0||A!==k&&!J){b(o),se(l,z);return}var X=D;if(J){var fe=d==="ArrowLeft"?"left":"right";X=T(E,D,fe),X!==D&&o.preventDefault()}else d==="Delete"&&!B(E[D])?X=T(E,D,"right"):d==="Backspace"&&!B(E[D])&&(X=T(E,D,"left"));X!==D&&j(l,X,E),b(o),se(l,z)},je=function(o){var l=o.target,d=function(){var A=l.selectionStart,k=l.selectionEnd,E=l.value;if(E===void 0&&(E=""),A===k){var D=T(E,A);D!==A&&j(l,D,E)}};d(),requestAnimationFrame(function(){d()}),c(o),se(l)},Ae=function(o){o.persist&&o.persist();var l=o.target,d=o.currentTarget;u.current=l,m.current.focusTimeout=setTimeout(function(){var A=l.selectionStart,k=l.selectionEnd,E=l.value;E===void 0&&(E="");var D=T(E,A);D!==A&&!(A===0&&k===E.length)&&j(l,D,E),V(Object.assign(Object.assign({},o),{currentTarget:d}))},0)},Ee=function(o){u.current=null,clearTimeout(m.current.focusTimeout),clearTimeout(m.current.setCaretTimeout),_(o)},Re=H&&nt()?"numeric":void 0,ve=Object.assign({inputMode:Re},O,{type:t,value:C,onChange:De,onKeyDown:_e,onMouseUp:je,onFocus:Ae,onBlur:Ee});if(r==="text")return a?ee.createElement(ee.Fragment,null,a(C,O)||null):ee.createElement("span",Object.assign({},O,{ref:i}),C);if(n){var Te=n;return ee.createElement(Te,Object.assign({},ve,{ref:i}))}return ee.createElement("input",Object.assign({},ve,{ref:i}))}function Se(e,t){var r=t.decimalScale,n=t.fixedDecimalScale,a=t.prefix;a===void 0&&(a="");var i=t.suffix;i===void 0&&(i="");var f=t.allowNegative,h=t.thousandsGroupStyle;if(h===void 0&&(h="thousand"),e===""||e==="-")return e;var S=oe(t),w=S.thousandSeparator,y=S.decimalSeparator,g=r!==0&&e.indexOf(".")!==-1||r&&n,p=de(e,f),b=p.beforeDecimal,c=p.afterDecimal,V=p.addNegation;return r!==void 0&&(c=Ne(c,r,!!n)),w&&(b=Qe(b,w,h)),a&&(b=a+b),i&&(c=c+i),V&&(b="-"+b),e=b+(g&&y||"")+c,e}function oe(e){var t=e.decimalSeparator;t===void 0&&(t=".");var r=e.thousandSeparator,n=e.allowedDecimalSeparators;return r===!0&&(r=","),n||(n=[t,"."]),{decimalSeparator:t,thousandSeparator:r,allowedDecimalSeparators:n}}function dt(e,t){e===void 0&&(e="");var r=new RegExp("(-)"),n=new RegExp("(-)(.)*(-)"),a=r.test(e),i=n.test(e);return e=e.replace(/-/g,""),a&&!i&&t&&(e="-"+e),e}function vt(e,t){return new RegExp("(^-)|[0-9]|"+Ve(e),"g")}function gt(e,t,r){return e===""?!0:!(t!=null&&t.match(/\d/))&&!(r!=null&&r.match(/\d/))&&typeof e=="string"&&!isNaN(Number(e))}function mt(e,t,r){var n;t===void 0&&(t=it(e));var a=r.allowNegative,i=r.prefix;i===void 0&&(i="");var f=r.suffix;f===void 0&&(f="");var h=r.decimalScale,S=t.from,w=t.to,y=w.start,g=w.end,p=oe(r),b=p.allowedDecimalSeparators,c=p.decimalSeparator,V=e[g]===c;if(ne(e)&&(e===i||e===f)&&t.lastValue==="")return e;if(g-y===1&&b.indexOf(e[y])!==-1){var _=h===0?"":c;e=e.substring(0,y)+_+e.substring(y+1,e.length)}var v=function(u,m,N){var I=!1,j=!1;i.startsWith("-")?I=!1:u.startsWith("--")?(I=!1,j=!0):f.startsWith("-")&&u.length===f.length?I=!1:u[0]==="-"&&(I=!0);var T=I?1:0;return j&&(T=2),T&&(u=u.substring(T),m-=T,N-=T),{value:u,start:m,end:N,hasNegation:I}},P=v(e,y,g),B=P.hasNegation;n=P,e=n.value,y=n.start,g=n.end;var M=v(t.lastValue,S.start,S.end),O=M.start,U=M.end,K=M.value,C=e.substring(y,g);e.length&&K.length&&(O>K.length-f.length||U<i.length)&&!(C&&f.startsWith(C))&&(e=K);var F=0;e.startsWith(i)?F+=i.length:y<i.length&&(F=y),e=e.substring(F),g-=F;var q=e.length,$=e.length-f.length;e.endsWith(f)?q=$:(g>$||g>e.length-f.length)&&(q=g),e=e.substring(0,q),e=dt(B?"-"+e:e,a),e=(e.match(vt(c))||[]).join("");var W=e.indexOf(c);e=e.replace(new RegExp(Ve(c),"g"),function(u,m){return m===W?".":""});var L=de(e,a),Z=L.beforeDecimal,H=L.afterDecimal,s=L.addNegation;return w.end-w.start<S.end-S.start&&Z===""&&V&&!parseFloat(H)&&(e=s?"-":""),e}function ht(e,t){var r=t.prefix;r===void 0&&(r="");var n=t.suffix;n===void 0&&(n="");var a=Array.from({length:e.length+1}).map(function(){return!0}),i=e[0]==="-";a.fill(!1,0,r.length+(i?1:0));var f=e.length;return a.fill(!1,f-n.length+1,f+1),a}function pt(e){var t=oe(e),r=t.thousandSeparator,n=t.decimalSeparator,a=e.prefix;a===void 0&&(a="");var i=e.allowNegative;if(i===void 0&&(i=!0),r===n)throw new Error(`
        Decimal separator can't be same as thousand separator.
        thousandSeparator: `+r+` (thousandSeparator = {true} is same as thousandSeparator = ",")
        decimalSeparator: `+n+` (default value for decimalSeparator is .)
     `);return a.startsWith("-")&&i&&(console.error(`
      Prefix can't start with '-' when allowNegative is true.
      prefix: `+a+`
      allowNegative: `+i+`
    `),i=!1),Object.assign(Object.assign({},e),{allowNegative:i})}function xt(e){e=pt(e),e.decimalSeparator,e.allowedDecimalSeparators,e.thousandsGroupStyle;var t=e.suffix,r=e.allowNegative,n=e.allowLeadingZeros,a=e.onKeyDown;a===void 0&&(a=Y);var i=e.onBlur;i===void 0&&(i=Y);var f=e.thousandSeparator,h=e.decimalScale,S=e.fixedDecimalScale,w=e.prefix;w===void 0&&(w="");var y=e.defaultValue,g=e.value,p=e.valueIsNumericString,b=e.onValueChange,c=ye(e,["decimalSeparator","allowedDecimalSeparators","thousandsGroupStyle","suffix","allowNegative","allowLeadingZeros","onKeyDown","onBlur","thousandSeparator","decimalScale","fixedDecimalScale","prefix","defaultValue","value","valueIsNumericString","onValueChange"]),V=oe(e),_=V.decimalSeparator,v=V.allowedDecimalSeparators,P=function(s){return Se(s,e)},B=function(s,u){return mt(s,u,e)},M=te(g)?y:g,O=p??gt(M,w,t);te(g)?te(y)||(O=O||typeof y=="number"):O=O||typeof g=="number";var U=function(s){return be(s)?s:(typeof s=="number"&&(s=we(s)),O&&typeof h=="number"?pe(s,h,!!S):s)},K=Ie(U(g),U(y),!!O,P,B,b),C=K[0],F=C.numAsString,q=C.formattedValue,$=K[1],W=function(s){var u=s.target,m=s.key,N=u.selectionStart,I=u.selectionEnd,j=u.value;if(j===void 0&&(j=""),(m==="Backspace"||m==="Delete")&&I<w.length){s.preventDefault();return}if(N!==I){a(s);return}m==="Backspace"&&j[0]==="-"&&N===w.length+1&&r&&Q(u,1),h&&S&&(m==="Backspace"&&j[N-1]===_?(Q(u,N-1),s.preventDefault()):m==="Delete"&&j[N]===_&&s.preventDefault()),v!=null&&v.includes(m)&&j[N]===_&&Q(u,N+1);var T=f===!0?",":f;m==="Backspace"&&j[N-1]===T&&Q(u,N-1),m==="Delete"&&j[N]===T&&Q(u,N+1),a(s)},L=function(s){var u=F;if(u.match(/\d/g)||(u=""),n||(u=tt(u)),S&&h&&(u=pe(u,h,S)),u!==F){var m=Se(u,e);$({formattedValue:m,value:u,floatValue:parseFloat(u)},{event:s,source:ae.event})}i(s)},Z=function(s){return s===_?!0:ne(s)},H=function(s){var u=s.currentValue,m=s.lastValue,N=s.formattedValue,I=s.currentValueIndex,j=s.formattedValueIndex,T=u[I],G=N[j],ue=Ce(m,u),re=ue.to,ie=function(le){return B(le).indexOf(".")+w.length};return g===0&&S&&h&&u[re.start]===_&&ie(u)<I&&ie(N)>j?!1:I>=re.start&&I<re.end&&v&&v.includes(T)&&G===_?!0:T===G};return Object.assign(Object.assign({},c),{value:q,valueIsNumericString:!1,isValidInputCharacter:Z,isCharacterSame:H,onValueChange:$,format:P,removeFormatting:B,getCaretBoundary:function(s){return ht(s,e)},onKeyDown:W,onBlur:L})}function St(e){var t=xt(e);return ee.createElement(ct,Object.assign({},t))}function yt(){const[e,t]=x.useState(!0),[r,n]=x.useState(!1),a=Be(),i=Me(),f=Fe(s=>{var u;return(u=s.new_pin)==null?void 0:u.data}),h=ke(),S=x.useMemo(()=>[{value:"rustic",label:"Rustic"},{value:"antique",label:"Antique"},{value:"vinyl",label:"Vinyl"},{value:"vintage",label:"Vintage"},{value:"refurbished",label:"Refurbished"}],[]),[w,y]=x.useState([]),[g,p]=x.useState(""),[b,c]=x.useState(S),[V,_]=x.useState(null),[v,P]=x.useState(!1),[B,M]=x.useState([]),[O,U]=x.useState(!1),[K,C]=x.useState(!1),[F,q]=x.useState(null),[$,W]=x.useState(null);x.useEffect(()=>{h(ge({title:"",description:"",destination_url:"",board_id:null,style:{text_scaleX:1,text_scaleY:1,text_x:10,text_y:10,text:"Title..",text_font_size:20,text_font_family:"Arial",text_color:"#000000",text_align:"center",text_wieght:"bold",text_italic:"normal",text_underline:"none",rect_bg:"#d3d3d3"},edited_pin_base64:null}))},[]);const L=(s=null,u="next")=>{const m=g,N=`
      query getProducts($first: Int, $last: Int, $after: String, $before: String, $query: String) {
        products(first: $first, last: $last, after: $after, before: $before, query: $query) {
          edges {
            node {
              id
              title
              handle
              description
              featuredImage {
                url
              }
              variants(first: 1) {
                edges {
                  node {
                    price
                    presentmentPrices(first: 1){
                      edges {
                        node {
                          price {
                            amount
                            currencyCode
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
          pageInfo {
            hasNextPage
            hasPreviousPage
            endCursor
            startCursor
          }
        }
      }
    `,I={first:u==="next"?10:null,last:u==="prev"?10:null,after:u==="next"?s:null,before:u==="prev"?s:null,query:m?`${m} `:""};i.submit({query:N,variables:JSON.stringify(I)},{method:"post",action:"/data/products"})};x.useEffect(()=>{L()},[g]),x.useEffect(()=>{var s,u;i.data&&t(!1),console.log(i==null?void 0:i.data,"fetcher data"),(u=(s=i.data)==null?void 0:s.products)!=null&&u.pageInfo&&(U(i.data.products.pageInfo.hasNextPage),C(i.data.products.pageInfo.hasPreviousPage),q(i.data.products.pageInfo.endCursor),W(i.data.products.pageInfo.startCursor))},[i.data]);const Z=s=>{var N,I;if(console.log(s,"newSelectedItems"),P(!1),s.length===0){M([]),_(null);return}const u=s[s.length-1];M([u]);const m=(I=(N=i==null?void 0:i.data)==null?void 0:N.products)==null?void 0:I.edges.find(j=>j.node.id===u);console.log(m,"selectedProduct"),_(m||null)},H=()=>{var s;n(!0),(s=V==null?void 0:V.node)!=null&&s.id?(h(ge({...f,product:V})),a("/app/templates",{state:{product:V}}),n(!1)):(P(!0),n(!1))};return R.jsx("div",{children:R.jsx($e,{style:{display:"block"},title:"Selected Product",fullWidth:!0,subtitle:"Choose the product you want to turn into a Pinterest pin.",compactTitle:!0,children:R.jsxs(Ue,{children:[R.jsxs("div",{style:{padding:"1.5rem"},children:[R.jsx("div",{style:{display:"flex",justifyContent:"space-between",gap:"20px",alignItems:"center"},children:R.jsx("div",{style:{width:"75%"},children:R.jsx(Le,{type:"text",label:"",value:g,onChange:p,autoComplete:"off",placeholder:"Search"})})}),e?R.jsx("div",{style:{textAlign:"center",padding:"1.5rem"},children:R.jsx(Ke,{size:"large"})}):R.jsx(Ge,{resourceName:{singular:"product",plural:"products"},items:i!=null&&i.data?Object.values(i.data.products.edges):[],selectedItems:B,promotedBulkActions:[{content:"Next",loading:r,onAction:()=>H()}],onSelectionChange:Z,selectable:!0,pagination:{hasNext:O,hasPrevious:K,onNext:()=>L(F,"next"),onPrevious:()=>L($,"prev")},loading:e,renderItem:s=>{var T,G;const{id:u,title:m,featuredImage:N,variants:I}=s.node,j=((G=(T=I==null?void 0:I.edges[0])==null?void 0:T.node)==null?void 0:G.price)||"0.00";return R.jsxs(ze,{id:u,accessibilityLabel:`View details for ${m}`,name:m,media:R.jsx(Ze,{source:(N==null?void 0:N.url)||"https://via.placeholder.com/200",alt:m,size:"small"}),children:[R.jsx(me,{variant:"bodyMd",fontWeight:"bold",as:"h3",children:m}),R.jsx(me,{variant:"headingMd",children:R.jsx(St,{value:j,displayType:"text",thousandSeparator:!0,prefix:"$",decimalScale:2,fixedDecimalScale:!0})})]})}})]}),v?R.jsx(He,{tone:"warning",onDismiss:()=>{},stopAnnouncements:!0,children:R.jsx("p",{children:"Please select a product to pin."})}):null,R.jsx(qe,{inlineAlign:"center",children:R.jsx("div",{style:{marginTop:"30px",display:"flex",gap:"15px"},children:R.jsx(We,{to:"select_product",style:{...Oe.theme_button,margin:"auto"},type:"button",onClick:()=>{H()},loading:r,children:"Next"})})})]})})})}function Kt(){return R.jsx(Pe,{children:R.jsx(yt,{})})}export{Kt as default};
