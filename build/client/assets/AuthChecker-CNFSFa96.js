import{r as a}from"./index-CP26dfb2.js";import{u as c}from"./components-BlTBjdub.js";const d=e=>{const s=c(),t=c(),r=c();return a.useEffect(()=>((async()=>{var u,n;e!=null&&e.storeRegistered&&((u=e==null?void 0:e.user)==null?void 0:u.length)>0&&await s.submit({access_key:(n=e==null?void 0:e.user[0])==null?void 0:n.accessToken},{method:"post",action:"/api/pinterest/user_check"})})(),()=>{}),[e.storeRegistered,e.user]),a.useEffect(()=>{s.data===401&&e.user.length>0&&t.submit({refresh_token:e.user[0].refreshToken},{method:"post",action:"/api/pinterest/refresh_auth"})},[s.data,e.user]),a.useEffect(()=>{console.log("reAuthUserfetcher",t),t.data&&t.data.access_token&&r.submit({shopifyShopId:e.user[0].shopifyShopId,accessToken:t.data.access_token},{method:"post",action:"/data/users/update"})},[t.data,e.user]),null};export{d as default};
