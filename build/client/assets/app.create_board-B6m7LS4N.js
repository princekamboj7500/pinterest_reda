import{j as e}from"./jsx-runtime-BLI8ZJsa.js";import g from"./ThemeLayout-CSZUhtdd.js";import{u as j,b as y,r as o}from"./index-CP26dfb2.js";import{u as b}from"./create-DC3FBBky.js";import{P as v,a as m,B as u}from"./Page-CP5RaZ3z.js";import{C}from"./Card-cfPGhfhX.js";import{F as S}from"./Form-FMERqV2F.js";import"./index-CNPq0y9p.js";import"./styles-D_XvpvLC.js";import"./moment-C5S46NFB.js";import"./index-EHAiWlOd.js";import"./AuthChecker-CNFSFa96.js";import"./components-BlTBjdub.js";import"./context-CVOPGIzy.js";function T(k){j();const l=y(),[a,x]=o.useState(""),[p,i]=o.useState(""),[n,h]=o.useState(""),[f,s]=o.useState(!1),c=b(t=>t.user.user);console.log(c,"user");const d=async()=>{if(console.log("first"),i(""),s(!0),!a||!n){i("All fields are required!"),s(!1);return}const t=await fetch("/api/pinterest/create_board",{method:"POST",body:JSON.stringify({name:a,description:n}),headers:{"Content-Type":"application/json",access_token:c.accessToken}}),r=await t.json();console.log(r,"response"),t.ok?(s(!1),l("/app")):(s(!1),i(r==null?void 0:r.message))};return e.jsx("div",{children:e.jsx(v,{style:{display:"block"},title:"Create Board",fullWidth:!0,subtitle:"Create Pinterest Board",compactTitle:!0,children:e.jsxs(C,{children:[e.jsx(S,{onSubmit:d,children:e.jsxs("div",{style:{padding:"1.5rem"},children:[e.jsx("div",{style:{display:"flex",gap:"60px"},children:e.jsxs("div",{style:{width:"60%"},children:[e.jsx("div",{style:{marginTop:"15px"},children:e.jsx(m,{value:a,onChange:t=>{x(t)},label:"Name",placeholder:"Enter Board Name",type:"text",maxLength:30})}),e.jsx("div",{style:{marginTop:"15px"},children:e.jsx(m,{value:n,onChange:t=>{h(t)},multiline:4,label:"Description",type:"text",placeholder:"Enter Description",maxLength:200})})]})}),p&&e.jsx("span",{style:{color:"red"},children:p})]})}),e.jsxs("div",{style:{marginTop:"30px",display:"flex",gap:"15px",justifyContent:"center"},children:[e.jsx(u,{to:"select_product",variant:"primary",size:"large",type:"button",onClick:()=>{l("/app/boards")},children:"Cancel"}),e.jsx(u,{to:"select_product",size:"large",type:"submit",onClick:()=>{d()},loading:f,children:"Save"})]})]})})})}function R(){return e.jsx(g,{children:e.jsx(T,{})})}export{R as default};
